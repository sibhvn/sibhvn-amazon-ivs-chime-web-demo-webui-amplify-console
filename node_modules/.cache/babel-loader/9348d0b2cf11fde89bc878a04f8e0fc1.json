{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst SignalingProtocol_js_1 = require(\"../signalingprotocol/SignalingProtocol.js\");\n\nclass VideoStreamDescription {\n  constructor(attendeeId, groupId, streamId, maxBitrateKbps, avgBitrateKbps) {\n    this.attendeeId = '';\n    this.groupId = 0;\n    this.streamId = 0;\n    this.ssrc = 0;\n    this.trackLabel = '';\n    this.maxBitrateKbps = 0; // average bitrate is updated every 2 seconds via bitrates messages\n\n    this.avgBitrateKbps = 0;\n    this.maxFrameRate = 0;\n    this.timeEnabled = 0;\n    this.disabledByWebRTC = false;\n    this.disabledByUplinkPolicy = false;\n    this.attendeeId = attendeeId;\n    this.groupId = groupId;\n    this.streamId = streamId;\n    this.maxBitrateKbps = maxBitrateKbps;\n    this.avgBitrateKbps = avgBitrateKbps;\n  }\n\n  clone() {\n    const newInfo = new VideoStreamDescription();\n    newInfo.attendeeId = this.attendeeId;\n    newInfo.groupId = this.groupId;\n    newInfo.streamId = this.streamId;\n    newInfo.ssrc = this.ssrc;\n    newInfo.trackLabel = this.trackLabel;\n    newInfo.maxBitrateKbps = this.maxBitrateKbps;\n    newInfo.avgBitrateKbps = this.avgBitrateKbps;\n    newInfo.maxFrameRate = this.maxFrameRate;\n    newInfo.timeEnabled = this.timeEnabled;\n    newInfo.disabledByWebRTC = this.disabledByWebRTC;\n    newInfo.disabledByUplinkPolicy = this.disabledByUplinkPolicy;\n    return newInfo;\n  }\n\n  toStreamDescriptor() {\n    const descriptor = SignalingProtocol_js_1.SdkStreamDescriptor.create();\n    descriptor.mediaType = SignalingProtocol_js_1.SdkStreamMediaType.VIDEO;\n    descriptor.trackLabel = this.trackLabel;\n    descriptor.attendeeId = this.attendeeId;\n    descriptor.streamId = this.streamId;\n    descriptor.groupId = this.groupId;\n    descriptor.framerate = this.maxFrameRate;\n    descriptor.maxBitrateKbps = this.disabledByUplinkPolicy || this.disabledByWebRTC ? 0 : this.maxBitrateKbps;\n    descriptor.avgBitrateBps = this.avgBitrateKbps;\n    return descriptor;\n  }\n\n}\n\nexports.default = VideoStreamDescription;","map":{"version":3,"mappings":"cAAA;AACA;;;;;;AAEA;;AAEA,MAAqBA,sBAArB,CAA2C;EAczCC,YACEC,UADF,EAEEC,OAFF,EAGEC,QAHF,EAIEC,cAJF,EAKEC,cALF,EAKyB;IAlBzB,kBAAqB,EAArB;IACA,eAAkB,CAAlB;IACA,gBAAmB,CAAnB;IACA,YAAe,CAAf;IACA,kBAAqB,EAArB;IACA,sBAAyB,CAAzB,CAayB,CAZzB;;IACA,sBAAyB,CAAzB;IACA,oBAAuB,CAAvB;IACA,mBAAsB,CAAtB;IACA,wBAA4B,KAA5B;IACA,8BAAkC,KAAlC;IASE,KAAKJ,UAAL,GAAkBA,UAAlB;IACA,KAAKC,OAAL,GAAeA,OAAf;IACA,KAAKC,QAAL,GAAgBA,QAAhB;IACA,KAAKC,cAAL,GAAsBA,cAAtB;IACA,KAAKC,cAAL,GAAsBA,cAAtB;EACD;;EAEDC,KAAK;IACH,MAAMC,OAAO,GAAG,IAAIR,sBAAJ,EAAhB;IACAQ,OAAO,CAACN,UAAR,GAAqB,KAAKA,UAA1B;IACAM,OAAO,CAACL,OAAR,GAAkB,KAAKA,OAAvB;IACAK,OAAO,CAACJ,QAAR,GAAmB,KAAKA,QAAxB;IACAI,OAAO,CAACC,IAAR,GAAe,KAAKA,IAApB;IACAD,OAAO,CAACE,UAAR,GAAqB,KAAKA,UAA1B;IACAF,OAAO,CAACH,cAAR,GAAyB,KAAKA,cAA9B;IACAG,OAAO,CAACF,cAAR,GAAyB,KAAKA,cAA9B;IACAE,OAAO,CAACG,YAAR,GAAuB,KAAKA,YAA5B;IACAH,OAAO,CAACI,WAAR,GAAsB,KAAKA,WAA3B;IACAJ,OAAO,CAACK,gBAAR,GAA2B,KAAKA,gBAAhC;IACAL,OAAO,CAACM,sBAAR,GAAiC,KAAKA,sBAAtC;IACA,OAAON,OAAP;EACD;;EAEDO,kBAAkB;IAChB,MAAMC,UAAU,GAAGC,2CAAoBC,MAApB,EAAnB;IACAF,UAAU,CAACG,SAAX,GAAuBF,0CAAmBG,KAA1C;IAEAJ,UAAU,CAACN,UAAX,GAAwB,KAAKA,UAA7B;IACAM,UAAU,CAACd,UAAX,GAAwB,KAAKA,UAA7B;IACAc,UAAU,CAACZ,QAAX,GAAsB,KAAKA,QAA3B;IACAY,UAAU,CAACb,OAAX,GAAqB,KAAKA,OAA1B;IACAa,UAAU,CAACK,SAAX,GAAuB,KAAKV,YAA5B;IACAK,UAAU,CAACX,cAAX,GACE,KAAKS,sBAAL,IAA+B,KAAKD,gBAApC,GAAuD,CAAvD,GAA2D,KAAKR,cADlE;IAEAW,UAAU,CAACM,aAAX,GAA2B,KAAKhB,cAAhC;IACA,OAAOU,UAAP;EACD;;AAzDwC;;AAA3CO","names":["VideoStreamDescription","constructor","attendeeId","groupId","streamId","maxBitrateKbps","avgBitrateKbps","clone","newInfo","ssrc","trackLabel","maxFrameRate","timeEnabled","disabledByWebRTC","disabledByUplinkPolicy","toStreamDescriptor","descriptor","SignalingProtocol_js_1","create","mediaType","VIDEO","framerate","avgBitrateBps","exports"],"sourceRoot":"","sources":["../../src/videostreamindex/VideoStreamDescription.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}