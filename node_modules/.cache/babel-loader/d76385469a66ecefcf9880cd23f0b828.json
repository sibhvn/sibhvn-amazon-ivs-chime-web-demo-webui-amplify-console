{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n *\n * @param attributes Event attributes to flatten.\n * @returns flattened event attributes.\n * Note: This function needs to be extended to support 'Array', 'object'\n * as value types within the event attributes if added later.\n */\n\nconst flattenEventAttributes = attributes => {\n  const flattenedAttributes = {};\n\n  for (const [key, value] of Object.entries(attributes)) {\n    if (value === null || value === undefined || value === '') {\n      continue;\n    } else if (typeof value === 'number' || typeof value === 'string') {\n      flattenedAttributes[key] = value;\n    } else {\n      throw new TypeError('Unhandled type received while flattening attributes.');\n    }\n  }\n\n  return flattenedAttributes;\n};\n\nexports.default = flattenEventAttributes;","map":{"version":3,"mappings":"cAAA;AACA;;;;;AAKA;;;;;;;;AAOA,MAAMA,sBAAsB,GAC1BC,UAD6B,IAES;EACtC,MAAMC,mBAAmB,GAAuC,EAAhE;;EACA,KAAK,MAAM,CAACC,GAAD,EAAMC,KAAN,CAAX,IAA2BC,MAAM,CAACC,OAAP,CAAeL,UAAf,CAA3B,EAAuD;IACrD,IAAIG,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKG,SAA5B,IAAyCH,KAAK,KAAK,EAAvD,EAA2D;MACzD;IACD,CAFD,MAEO,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,QAAlD,EAA4D;MACjEF,mBAAmB,CAACC,GAAD,CAAnB,GAA2BC,KAA3B;IACD,CAFM,MAEA;MACL,MAAM,IAAII,SAAJ,CAAc,sDAAd,CAAN;IACD;EACF;;EACD,OAAON,mBAAP;AACD,CAdD;;AAgBAO,kBAAeT,sBAAf","names":["flattenEventAttributes","attributes","flattenedAttributes","key","value","Object","entries","undefined","TypeError","exports"],"sourceRoot":"","sources":["../../src/eventcontroller/flattenEventAttributes.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}