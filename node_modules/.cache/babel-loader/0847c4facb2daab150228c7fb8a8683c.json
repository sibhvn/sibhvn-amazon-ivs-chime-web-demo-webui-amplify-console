{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // Use \"ua-parser-js\" over \"detect-browser\" to get more detailed information.\n\nconst ua_parser_js_1 = require(\"ua-parser-js\");\n\nconst Versioning_1 = require(\"../versioning/Versioning\");\n/**\n * [[DefaultUserAgentParser]] uses UAParser to parse the browser's user agent.\n * It is responsible to hold and provide browser, OS and device specific information.\n */\n\n\nclass DefaultUserAgentParser {\n  constructor(logger) {\n    var _a, _b, _c, _d, _e, _f, _g;\n\n    try {\n      this.parserResult = navigator && navigator.userAgent ? new ua_parser_js_1.UAParser(navigator.userAgent).getResult() : undefined;\n    } catch (error) {\n      /* istanbul ignore next */\n      logger.error(error.message);\n    }\n\n    this.browserMajorVersion = ((_c = (_b = (_a = this.parserResult) === null || _a === void 0 ? void 0 : _a.browser) === null || _b === void 0 ? void 0 : _b.version) === null || _c === void 0 ? void 0 : _c.split('.')[0]) || DefaultUserAgentParser.UNAVAILABLE;\n    this.browserName = ((_d = this.parserResult) === null || _d === void 0 ? void 0 : _d.browser.name) || DefaultUserAgentParser.UNAVAILABLE;\n    this.browserVersion = ((_e = this.parserResult) === null || _e === void 0 ? void 0 : _e.browser.version) || DefaultUserAgentParser.UNAVAILABLE;\n    this.deviceName = [((_f = this.parserResult) === null || _f === void 0 ? void 0 : _f.device.vendor) || '', ((_g = this.parserResult) === null || _g === void 0 ? void 0 : _g.device.model) || ''].join(' ').trim() || DefaultUserAgentParser.UNAVAILABLE;\n  }\n\n  getParserResult() {\n    var _a, _b;\n\n    return {\n      browserMajorVersion: this.browserMajorVersion,\n      browserName: this.browserName,\n      browserVersion: this.browserVersion,\n      deviceName: this.deviceName,\n      osName: ((_a = this.parserResult) === null || _a === void 0 ? void 0 : _a.os.name) || DefaultUserAgentParser.UNAVAILABLE,\n      osVersion: ((_b = this.parserResult) === null || _b === void 0 ? void 0 : _b.os.version) || DefaultUserAgentParser.UNAVAILABLE,\n      sdkVersion: Versioning_1.default.sdkVersion,\n      sdkName: Versioning_1.default.sdkName\n    };\n  }\n\n}\n\nexports.default = DefaultUserAgentParser;\nDefaultUserAgentParser.UNAVAILABLE = 'Unavailable';","map":{"version":3,"mappings":"cAAA;AACA;;;;IAEA;;AACA;;AAGA;AAGA;;;;;;AAIA,MAAqBA,sBAArB,CAA2C;EAQzCC,YAAYC,MAAZ,EAA0B;;;IACxB,IAAI;MACF,KAAKC,YAAL,GACEC,SAAS,IAAIA,SAAS,CAACC,SAAvB,GACI,IAAIC,uBAAJ,CAAaF,SAAS,CAACC,SAAvB,EAAkCE,SAAlC,EADJ,GAEIC,SAHN;IAID,CALD,CAKE,OAAOC,KAAP,EAAc;MACd;MACAP,MAAM,CAACO,KAAP,CAAaA,KAAK,CAACC,OAAnB;IACD;;IAED,KAAKC,mBAAL,GACE,wBAAKR,YAAL,MAAiB,IAAjB,IAAiBS,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEC,OAAnB,MAA0B,IAA1B,IAA0BC,aAA1B,GAA0B,MAA1B,GAA0BA,GAAEC,OAA5B,MAAmC,IAAnC,IAAmCC,aAAnC,GAAmC,MAAnC,GAAmCA,GAAEC,KAAF,CAAQ,GAAR,EAAa,CAAb,CAAnC,KAAsDjB,sBAAsB,CAACkB,WAD/E;IAEA,KAAKC,WAAL,GAAmB,YAAKhB,YAAL,MAAiB,IAAjB,IAAiBiB,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEP,OAAF,CAAUQ,IAA3B,KAAmCrB,sBAAsB,CAACkB,WAA7E;IACA,KAAKI,cAAL,GAAsB,YAAKnB,YAAL,MAAiB,IAAjB,IAAiBoB,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEV,OAAF,CAAUE,OAA3B,KAAsCf,sBAAsB,CAACkB,WAAnF;IACA,KAAKM,UAAL,GACE,CAAC,YAAKrB,YAAL,MAAiB,IAAjB,IAAiBsB,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEC,MAAF,CAASC,MAA1B,KAAoC,EAArC,EAAyC,YAAKxB,YAAL,MAAiB,IAAjB,IAAiByB,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEF,MAAF,CAASG,KAA1B,KAAmC,EAA5E,EACGC,IADH,CACQ,GADR,EAEGC,IAFH,MAEa/B,sBAAsB,CAACkB,WAHtC;EAID;;EAEDc,eAAe;;;IACb,OAAO;MACLrB,mBAAmB,EAAE,KAAKA,mBADrB;MAELQ,WAAW,EAAE,KAAKA,WAFb;MAGLG,cAAc,EAAE,KAAKA,cAHhB;MAILE,UAAU,EAAE,KAAKA,UAJZ;MAKLS,MAAM,EAAE,YAAK9B,YAAL,MAAiB,IAAjB,IAAiBS,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEsB,EAAF,CAAKb,IAAtB,KAA8BrB,sBAAsB,CAACkB,WALxD;MAMLiB,SAAS,EAAE,YAAKhC,YAAL,MAAiB,IAAjB,IAAiBW,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEoB,EAAF,CAAKnB,OAAtB,KAAiCf,sBAAsB,CAACkB,WAN9D;MAOLkB,UAAU,EAAEC,qBAAWD,UAPlB;MAQLE,OAAO,EAAED,qBAAWC;IARf,CAAP;EAUD;;AAxCwC;;AAA3CC;AAC0BvC,qCAAc,aAAd","names":["DefaultUserAgentParser","constructor","logger","parserResult","navigator","userAgent","ua_parser_js_1","getResult","undefined","error","message","browserMajorVersion","_a","browser","_b","version","_c","split","UNAVAILABLE","browserName","_d","name","browserVersion","_e","deviceName","_f","device","vendor","_g","model","join","trim","getParserResult","osName","os","osVersion","sdkVersion","Versioning_1","sdkName","exports"],"sourceRoot":"","sources":["../../src/useragentparser/DefaultUserAgentParser.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}