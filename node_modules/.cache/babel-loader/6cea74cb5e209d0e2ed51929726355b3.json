{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst detect_browser_1 = require(\"detect-browser\");\n\nclass DefaultBrowserBehavior {\n  constructor() {\n    let {\n      // Temporarily disable this workaround while we work out the kinks.\n      recreateAudioContextIfNeeded = false\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.browser = detect_browser_1.detect();\n    this.browserSupport = {\n      chrome: 78,\n      'edge-chromium': 79,\n      electron: 7,\n      firefox: 75,\n      ios: 12,\n      safari: 12,\n      opera: 66,\n      samsung: 12,\n      crios: 86,\n      fxios: 23,\n      'ios-webview': 605,\n      'chromium-webview': 92\n    };\n    this.browserName = {\n      chrome: 'Google Chrome',\n      'edge-chromium': 'Microsoft Edge',\n      electron: 'Electron',\n      firefox: 'Mozilla Firefox',\n      ios: 'Safari iOS',\n      safari: 'Safari',\n      opera: 'Opera',\n      samsung: 'Samsung Internet',\n      crios: 'Chrome iOS',\n      fxios: 'Firefox iOS',\n      'ios-webview': 'WKWebView iOS',\n      'chromium-webview': 'Chrome WebView'\n    };\n    this.chromeLike = ['chrome', 'edge-chromium', 'chromium-webview', 'opera', 'samsung'];\n    this.webkitBrowsers = ['crios', 'fxios', 'safari', 'ios', 'ios-webview'];\n    this.recreateAudioContextIfNeeded = recreateAudioContextIfNeeded;\n  }\n\n  version() {\n    return this.browser.version;\n  }\n\n  majorVersion() {\n    return parseInt(this.version().split('.')[0]);\n  }\n\n  name() {\n    return this.browser.name;\n  }\n\n  hasChromiumWebRTC() {\n    for (const browser of this.chromeLike) {\n      if (browser === this.browser.name) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  hasWebKitWebRTC() {\n    for (const browser of this.webkitBrowsers) {\n      if (browser === this.browser.name) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  hasFirefoxWebRTC() {\n    return this.isFirefox();\n  }\n\n  supportsCanvasCapturedStreamPlayback() {\n    return !this.isIOSSafari() && !this.isIOSChrome() && !this.isIOSFirefox();\n  }\n\n  supportsBackgroundFilter() {\n    // disable Safari 15\n    // see: https://github.com/aws/amazon-chime-sdk-js/issues/1059\n    if (this.name() === 'safari' && this.majorVersion() === 15) {\n      return false;\n    }\n\n    if (!this.supportsCanvasCapturedStreamPlayback()) {\n      return false;\n    }\n\n    return true;\n  }\n\n  requiresUnifiedPlan() {\n    return this.isFirefox() || this.hasChromiumWebRTC() || this.hasWebKitWebRTC() && this.isUnifiedPlanSupported();\n  }\n\n  requiresResolutionAlignment(width, height) {\n    if (this.isAndroid() && this.isPixel3()) {\n      return [Math.ceil(width / 64) * 64, Math.ceil(height / 64) * 64];\n    }\n\n    return [width, height];\n  }\n\n  requiresCheckForSdpConnectionAttributes() {\n    return !this.isIOSSafari() && !this.isIOSChrome() && !this.isIOSFirefox();\n  }\n\n  requiresIceCandidateGatheringTimeoutWorkaround() {\n    return this.hasChromiumWebRTC();\n  }\n\n  requiresUnifiedPlanMunging() {\n    return this.hasChromiumWebRTC() || this.hasWebKitWebRTC() && this.isUnifiedPlanSupported();\n  }\n\n  requiresSortCodecPreferencesForSdpAnswer() {\n    return this.isFirefox() && this.majorVersion() <= 68;\n  }\n\n  requiresSimulcastMunging() {\n    return this.isSafari();\n  }\n\n  requiresBundlePolicy() {\n    return 'max-bundle';\n  }\n\n  requiresPromiseBasedWebRTCGetStats() {\n    return !this.hasChromiumWebRTC();\n  }\n\n  requiresVideoElementWorkaround() {\n    return this.isSafari() && this.majorVersion() === 12;\n  }\n\n  requiresNoExactMediaStreamConstraints() {\n    return this.isSamsungInternet() || this.isIOSSafari() && (this.version() === '12.0.0' || this.version() === '12.1.0');\n  }\n\n  requiresGroupIdMediaStreamConstraints() {\n    return this.isSamsungInternet();\n  }\n\n  requiresContextRecreationForAudioWorklet() {\n    if (!this.recreateAudioContextIfNeeded) {\n      return false;\n    } // Definitely not Chrome; no worries.\n\n\n    if (!('chrome' in global)) {\n      return false;\n    } // Everything seems to work fine on platforms other than macOS.\n\n\n    if (this.browser.os !== 'Mac OS') {\n      return false;\n    } // Electron or Chromium.\n    // All other browsers are fine. But you'd have to be super weird --\n    // faking global.chrome but not having a Chrome UA -- to get this far,\n    // so we have some Istanbul directives on these.\n\n    /* istanbul ignore else */\n\n\n    if (this.isChrome() || this.isEdge()) {\n      return true;\n    }\n    /* istanbul ignore next */\n\n\n    return false;\n  }\n\n  getDisplayMediaAudioCaptureSupport() {\n    return this.isChrome() || this.isEdge();\n  }\n\n  supportsSenderSideBandwidthEstimation() {\n    return this.hasChromiumWebRTC() || this.isSafari();\n  } // There's a issue in Chormium WebView that causes enumerate devices to return empty labels, this is a check for this issue.\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=669492\n\n\n  doesNotSupportMediaDeviceLabels() {\n    return this.browser.name === 'chromium-webview';\n  } // TODO: Deprecated, needs to be removed\n\n\n  screenShareUnsupported() {\n    console.warn('This function is no longer supported.');\n    return true;\n  }\n\n  isSupported() {\n    if (!this.browserSupport[this.browser.name] || this.majorVersion() < this.browserSupport[this.browser.name]) {\n      return false;\n    }\n\n    if (this.browser.name === 'firefox' && this.isAndroid()) {\n      return false;\n    }\n\n    return true;\n  }\n\n  isSimulcastSupported() {\n    return this.hasChromiumWebRTC();\n  }\n\n  supportDownlinkBandwidthEstimation() {\n    return !this.isFirefox();\n  }\n\n  supportString() {\n    if (this.isAndroid()) {\n      return `${this.browserName['chrome']} ${this.browserSupport['chrome']}+, ${this.browserName['samsung']} ${this.browserSupport['samsung']}+`;\n    }\n\n    const s = [];\n\n    for (const k in this.browserSupport) {\n      s.push(`${this.browserName[k]} ${this.browserSupport[k]}+`);\n    }\n\n    return s.join(', ');\n  }\n\n  supportedVideoCodecs() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const pc = new RTCPeerConnection();\n      pc.addTransceiver('video', {\n        direction: 'inactive',\n        streams: []\n      });\n      return (yield pc.createOffer({\n        offerToReceiveVideo: true\n      })).sdp.split('\\r\\n').filter(x => {\n        return x.includes('a=rtpmap:');\n      }).map(x => {\n        return x.replace(/.* /, '').replace(/\\/.*/, '');\n      }).filter((v, i, a) => {\n        return a.indexOf(v) === i;\n      }).filter(x => {\n        return x !== 'rtx' && x !== 'red' && x !== 'ulpfec';\n      });\n    });\n  }\n\n  supportsSetSinkId() {\n    return 'setSinkId' in HTMLAudioElement.prototype;\n  }\n\n  disableResolutionScaleDown() {\n    return this.isAndroid();\n  }\n\n  disable480pResolutionScaleDown() {\n    return /( Chrome\\/98\\.)/i.test(navigator.userAgent) && this.browser.os.startsWith('Windows');\n  }\n\n  requiresDisablingH264Encoding() {\n    return (this.isIOSSafari() || this.isIOSChrome() || this.isIOSFirefox()) && (this.version() === '15.1.0' || /( OS 15_1)/i.test(navigator.userAgent));\n  } // These helpers should be kept private to encourage\n  // feature detection instead of browser detection.\n\n\n  isIOSSafari() {\n    return this.browser.name === 'ios' || this.browser.name === 'ios-webview' || this.browser.name === 'safari' && /( Mac )/i.test(navigator.userAgent) && navigator.maxTouchPoints > 1 //Ipad\n    ;\n  }\n\n  isSafari() {\n    return this.browser.name === 'safari' || this.browser.name === 'ios';\n  }\n\n  isFirefox() {\n    return this.browser.name === 'firefox';\n  }\n\n  isIOSFirefox() {\n    return this.browser.name === 'fxios';\n  }\n\n  isIOSChrome() {\n    return this.browser.name === 'crios';\n  }\n\n  isChrome() {\n    return this.browser.name === 'chrome';\n  }\n\n  isEdge() {\n    return this.browser.name === 'edge-chromium';\n  }\n\n  isSamsungInternet() {\n    return this.browser.name === 'samsung';\n  }\n\n  isAndroid() {\n    return /(android)/i.test(navigator.userAgent);\n  }\n\n  isPixel3() {\n    return /( pixel 3)/i.test(navigator.userAgent);\n  }\n\n  isUnifiedPlanSupported() {\n    return RTCRtpTransceiver.prototype.hasOwnProperty('currentDirection');\n  }\n\n}\n\nexports.default = DefaultBrowserBehavior;","map":{"version":3,"mappings":"cAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AAKA,MAAqBA,sBAArB,CAA2C;EA6CzCC,cAMM;IAAA,IANM;MACV;MACAC,4BAA4B,GAAG;IAFrB,CAMN,uEAAF,EAAE;IAlDW,eAAUC,yBAAV;IAET,sBAA2C;MACjDC,MAAM,EAAE,EADyC;MAEjD,iBAAiB,EAFgC;MAGjDC,QAAQ,EAAE,CAHuC;MAIjDC,OAAO,EAAE,EAJwC;MAKjDC,GAAG,EAAE,EAL4C;MAMjDC,MAAM,EAAE,EANyC;MAOjDC,KAAK,EAAE,EAP0C;MAQjDC,OAAO,EAAE,EARwC;MASjDC,KAAK,EAAE,EAT0C;MAUjDC,KAAK,EAAE,EAV0C;MAWjD,eAAe,GAXkC;MAYjD,oBAAoB;IAZ6B,CAA3C;IAeA,mBAAwC;MAC9CR,MAAM,EAAE,eADsC;MAE9C,iBAAiB,gBAF6B;MAG9CC,QAAQ,EAAE,UAHoC;MAI9CC,OAAO,EAAE,iBAJqC;MAK9CC,GAAG,EAAE,YALyC;MAM9CC,MAAM,EAAE,QANsC;MAO9CC,KAAK,EAAE,OAPuC;MAQ9CC,OAAO,EAAE,kBARqC;MAS9CC,KAAK,EAAE,YATuC;MAU9CC,KAAK,EAAE,aAVuC;MAW9C,eAAe,eAX+B;MAY9C,oBAAoB;IAZ0B,CAAxC;IAeA,kBAAuB,CAC7B,QAD6B,EAE7B,eAF6B,EAG7B,kBAH6B,EAI7B,OAJ6B,EAK7B,SAL6B,CAAvB;IAQA,sBAA2B,CAAC,OAAD,EAAU,OAAV,EAAmB,QAAnB,EAA6B,KAA7B,EAAoC,aAApC,CAA3B;IAWN,KAAKV,4BAAL,GAAoCA,4BAApC;EACD;;EAEDW,OAAO;IACL,OAAO,KAAKC,OAAL,CAAaD,OAApB;EACD;;EAEDE,YAAY;IACV,OAAOC,QAAQ,CAAC,KAAKH,OAAL,GAAeI,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CAAf;EACD;;EAEDC,IAAI;IACF,OAAO,KAAKJ,OAAL,CAAaI,IAApB;EACD;;EAEDC,iBAAiB;IACf,KAAK,MAAML,OAAX,IAAsB,KAAKM,UAA3B,EAAuC;MACrC,IAAIN,OAAO,KAAK,KAAKA,OAAL,CAAaI,IAA7B,EAAmC;QACjC,OAAO,IAAP;MACD;IACF;;IACD,OAAO,KAAP;EACD;;EAEDG,eAAe;IACb,KAAK,MAAMP,OAAX,IAAsB,KAAKQ,cAA3B,EAA2C;MACzC,IAAIR,OAAO,KAAK,KAAKA,OAAL,CAAaI,IAA7B,EAAmC;QACjC,OAAO,IAAP;MACD;IACF;;IACD,OAAO,KAAP;EACD;;EAEDK,gBAAgB;IACd,OAAO,KAAKC,SAAL,EAAP;EACD;;EAEDC,oCAAoC;IAClC,OAAO,CAAC,KAAKC,WAAL,EAAD,IAAuB,CAAC,KAAKC,WAAL,EAAxB,IAA8C,CAAC,KAAKC,YAAL,EAAtD;EACD;;EAEDC,wBAAwB;IACtB;IACA;IACA,IAAI,KAAKX,IAAL,OAAgB,QAAhB,IAA4B,KAAKH,YAAL,OAAwB,EAAxD,EAA4D;MAC1D,OAAO,KAAP;IACD;;IAED,IAAI,CAAC,KAAKU,oCAAL,EAAL,EAAkD;MAChD,OAAO,KAAP;IACD;;IAED,OAAO,IAAP;EACD;;EAEDK,mBAAmB;IACjB,OACE,KAAKN,SAAL,MACA,KAAKL,iBAAL,EADA,IAEC,KAAKE,eAAL,MAA0B,KAAKU,sBAAL,EAH7B;EAKD;;EAEDC,2BAA2B,CAACC,KAAD,EAAgBC,MAAhB,EAA8B;IACvD,IAAI,KAAKC,SAAL,MAAoB,KAAKC,QAAL,EAAxB,EAAyC;MACvC,OAAO,CAACC,IAAI,CAACC,IAAL,CAAUL,KAAK,GAAG,EAAlB,IAAwB,EAAzB,EAA6BI,IAAI,CAACC,IAAL,CAAUJ,MAAM,GAAG,EAAnB,IAAyB,EAAtD,CAAP;IACD;;IACD,OAAO,CAACD,KAAD,EAAQC,MAAR,CAAP;EACD;;EAEDK,uCAAuC;IACrC,OAAO,CAAC,KAAKb,WAAL,EAAD,IAAuB,CAAC,KAAKC,WAAL,EAAxB,IAA8C,CAAC,KAAKC,YAAL,EAAtD;EACD;;EAEDY,8CAA8C;IAC5C,OAAO,KAAKrB,iBAAL,EAAP;EACD;;EAEDsB,0BAA0B;IACxB,OAAO,KAAKtB,iBAAL,MAA6B,KAAKE,eAAL,MAA0B,KAAKU,sBAAL,EAA9D;EACD;;EAEDW,wCAAwC;IACtC,OAAO,KAAKlB,SAAL,MAAoB,KAAKT,YAAL,MAAuB,EAAlD;EACD;;EAED4B,wBAAwB;IACtB,OAAO,KAAKC,QAAL,EAAP;EACD;;EAEDC,oBAAoB;IAClB,OAAO,YAAP;EACD;;EAEDC,kCAAkC;IAChC,OAAO,CAAC,KAAK3B,iBAAL,EAAR;EACD;;EAED4B,8BAA8B;IAC5B,OAAO,KAAKH,QAAL,MAAmB,KAAK7B,YAAL,OAAwB,EAAlD;EACD;;EAEDiC,qCAAqC;IACnC,OACE,KAAKC,iBAAL,MACC,KAAKvB,WAAL,OAAuB,KAAKb,OAAL,OAAmB,QAAnB,IAA+B,KAAKA,OAAL,OAAmB,QAAzE,CAFH;EAID;;EAEDqC,qCAAqC;IACnC,OAAO,KAAKD,iBAAL,EAAP;EACD;;EAEDE,wCAAwC;IACtC,IAAI,CAAC,KAAKjD,4BAAV,EAAwC;MACtC,OAAO,KAAP;IACD,CAHqC,CAKtC;;;IACA,IAAI,EAAE,YAAYkD,MAAd,CAAJ,EAA2B;MACzB,OAAO,KAAP;IACD,CARqC,CAUtC;;;IACA,IAAI,KAAKtC,OAAL,CAAauC,EAAb,KAAoB,QAAxB,EAAkC;MAChC,OAAO,KAAP;IACD,CAbqC,CAetC;IACA;IACA;IACA;;IAEA;;;IACA,IAAI,KAAKC,QAAL,MAAmB,KAAKC,MAAL,EAAvB,EAAsC;MACpC,OAAO,IAAP;IACD;IAED;;;IACA,OAAO,KAAP;EACD;;EAEDC,kCAAkC;IAChC,OAAO,KAAKF,QAAL,MAAmB,KAAKC,MAAL,EAA1B;EACD;;EAEDE,qCAAqC;IACnC,OAAO,KAAKtC,iBAAL,MAA4B,KAAKyB,QAAL,EAAnC;EACD,CAxMwC,CA0MzC;EACA;;;EACAc,+BAA+B;IAC7B,OAAO,KAAK5C,OAAL,CAAaI,IAAb,KAAsB,kBAA7B;EACD,CA9MwC,CAgNzC;;;EACAyC,sBAAsB;IACpBC,OAAO,CAACC,IAAR,CAAa,uCAAb;IACA,OAAO,IAAP;EACD;;EAEDC,WAAW;IACT,IACE,CAAC,KAAKC,cAAL,CAAoB,KAAKjD,OAAL,CAAaI,IAAjC,CAAD,IACA,KAAKH,YAAL,KAAsB,KAAKgD,cAAL,CAAoB,KAAKjD,OAAL,CAAaI,IAAjC,CAFxB,EAGE;MACA,OAAO,KAAP;IACD;;IACD,IAAI,KAAKJ,OAAL,CAAaI,IAAb,KAAsB,SAAtB,IAAmC,KAAKiB,SAAL,EAAvC,EAAyD;MACvD,OAAO,KAAP;IACD;;IACD,OAAO,IAAP;EACD;;EAED6B,oBAAoB;IAClB,OAAO,KAAK7C,iBAAL,EAAP;EACD;;EAED8C,kCAAkC;IAChC,OAAO,CAAC,KAAKzC,SAAL,EAAR;EACD;;EAED0C,aAAa;IACX,IAAI,KAAK/B,SAAL,EAAJ,EAAsB;MACpB,OAAO,GAAG,KAAKgC,WAAL,CAAiB,QAAjB,CAA0B,IAAI,KAAKJ,cAAL,CAAoB,QAApB,CAA6B,MAAM,KAAKI,WAAL,CAAiB,SAAjB,CAA2B,IAAI,KAAKJ,cAAL,CAAoB,SAApB,CAA8B,GAAxI;IACD;;IACD,MAAMK,CAAC,GAAa,EAApB;;IACA,KAAK,MAAMC,CAAX,IAAgB,KAAKN,cAArB,EAAqC;MACnCK,CAAC,CAACE,IAAF,CAAO,GAAG,KAAKH,WAAL,CAAiBE,CAAjB,CAAmB,IAAI,KAAKN,cAAL,CAAoBM,CAApB,CAAsB,GAAvD;IACD;;IACD,OAAOD,CAAC,CAACG,IAAF,CAAO,IAAP,CAAP;EACD;;EAEKC,oBAAoB;;MACxB,MAAMC,EAAE,GAAG,IAAIC,iBAAJ,EAAX;MACAD,EAAE,CAACE,cAAH,CAAkB,OAAlB,EAA2B;QAAEC,SAAS,EAAE,UAAb;QAAyBC,OAAO,EAAE;MAAlC,CAA3B;MACA,OAAO,CAAC,MAAMJ,EAAE,CAACK,WAAH,CAAe;QAAEC,mBAAmB,EAAE;MAAvB,CAAf,CAAP,EAAsDC,GAAtD,CACJ/D,KADI,CACE,MADF,EAEJgE,MAFI,CAEGC,CAAC,IAAG;QACV,OAAOA,CAAC,CAACC,QAAF,CAAW,WAAX,CAAP;MACD,CAJI,EAKJC,GALI,CAKAF,CAAC,IAAG;QACP,OAAOA,CAAC,CAACG,OAAF,CAAU,KAAV,EAAiB,EAAjB,EAAqBA,OAArB,CAA6B,MAA7B,EAAqC,EAArC,CAAP;MACD,CAPI,EAQJJ,MARI,CAQG,CAACK,CAAD,EAAIC,CAAJ,EAAOC,CAAP,KAAY;QAClB,OAAOA,CAAC,CAACC,OAAF,CAAUH,CAAV,MAAiBC,CAAxB;MACD,CAVI,EAWJN,MAXI,CAWGC,CAAC,IAAG;QACV,OAAOA,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAArB,IAA8BA,CAAC,KAAK,QAA3C;MACD,CAbI,CAAP;IAcD;EAAA;;EAEDQ,iBAAiB;IACf,OAAO,eAAeC,gBAAgB,CAACC,SAAvC;EACD;;EAEDC,0BAA0B;IACxB,OAAO,KAAK1D,SAAL,EAAP;EACD;;EAED2D,8BAA8B;IAC5B,OAAO,mBAAmBC,IAAnB,CAAwBC,SAAS,CAACC,SAAlC,KAAgD,KAAKnF,OAAL,CAAauC,EAAb,CAAgB6C,UAAhB,CAA2B,SAA3B,CAAvD;EACD;;EAEDC,6BAA6B;IAC3B,OACE,CAAC,KAAKzE,WAAL,MAAsB,KAAKC,WAAL,EAAtB,IAA4C,KAAKC,YAAL,EAA7C,MACC,KAAKf,OAAL,OAAmB,QAAnB,IAA+B,cAAckF,IAAd,CAAmBC,SAAS,CAACC,SAA7B,CADhC,CADF;EAID,CA1RwC,CA4RzC;EACA;;;EACQvE,WAAW;IACjB,OACE,KAAKZ,OAAL,CAAaI,IAAb,KAAsB,KAAtB,IACA,KAAKJ,OAAL,CAAaI,IAAb,KAAsB,aADtB,IAEC,KAAKJ,OAAL,CAAaI,IAAb,KAAsB,QAAtB,IACC,WAAW6E,IAAX,CAAgBC,SAAS,CAACC,SAA1B,CADD,IAECD,SAAS,CAACI,cAAV,GAA2B,CAL/B,CAKkC;IALlC;EAOD;;EAEOxD,QAAQ;IACd,OAAO,KAAK9B,OAAL,CAAaI,IAAb,KAAsB,QAAtB,IAAkC,KAAKJ,OAAL,CAAaI,IAAb,KAAsB,KAA/D;EACD;;EAEOM,SAAS;IACf,OAAO,KAAKV,OAAL,CAAaI,IAAb,KAAsB,SAA7B;EACD;;EAEOU,YAAY;IAClB,OAAO,KAAKd,OAAL,CAAaI,IAAb,KAAsB,OAA7B;EACD;;EAEOS,WAAW;IACjB,OAAO,KAAKb,OAAL,CAAaI,IAAb,KAAsB,OAA7B;EACD;;EAEOoC,QAAQ;IACd,OAAO,KAAKxC,OAAL,CAAaI,IAAb,KAAsB,QAA7B;EACD;;EAEOqC,MAAM;IACZ,OAAO,KAAKzC,OAAL,CAAaI,IAAb,KAAsB,eAA7B;EACD;;EAEO+B,iBAAiB;IACvB,OAAO,KAAKnC,OAAL,CAAaI,IAAb,KAAsB,SAA7B;EACD;;EAEOiB,SAAS;IACf,OAAO,aAAa4D,IAAb,CAAkBC,SAAS,CAACC,SAA5B,CAAP;EACD;;EAEO7D,QAAQ;IACd,OAAO,cAAc2D,IAAd,CAAmBC,SAAS,CAACC,SAA7B,CAAP;EACD;;EAEOlE,sBAAsB;IAC5B,OAAOsE,iBAAiB,CAACT,SAAlB,CAA4BU,cAA5B,CAA2C,kBAA3C,CAAP;EACD;;AA9UwC;;AAA3CC","names":["DefaultBrowserBehavior","constructor","recreateAudioContextIfNeeded","detect_browser_1","chrome","electron","firefox","ios","safari","opera","samsung","crios","fxios","version","browser","majorVersion","parseInt","split","name","hasChromiumWebRTC","chromeLike","hasWebKitWebRTC","webkitBrowsers","hasFirefoxWebRTC","isFirefox","supportsCanvasCapturedStreamPlayback","isIOSSafari","isIOSChrome","isIOSFirefox","supportsBackgroundFilter","requiresUnifiedPlan","isUnifiedPlanSupported","requiresResolutionAlignment","width","height","isAndroid","isPixel3","Math","ceil","requiresCheckForSdpConnectionAttributes","requiresIceCandidateGatheringTimeoutWorkaround","requiresUnifiedPlanMunging","requiresSortCodecPreferencesForSdpAnswer","requiresSimulcastMunging","isSafari","requiresBundlePolicy","requiresPromiseBasedWebRTCGetStats","requiresVideoElementWorkaround","requiresNoExactMediaStreamConstraints","isSamsungInternet","requiresGroupIdMediaStreamConstraints","requiresContextRecreationForAudioWorklet","global","os","isChrome","isEdge","getDisplayMediaAudioCaptureSupport","supportsSenderSideBandwidthEstimation","doesNotSupportMediaDeviceLabels","screenShareUnsupported","console","warn","isSupported","browserSupport","isSimulcastSupported","supportDownlinkBandwidthEstimation","supportString","browserName","s","k","push","join","supportedVideoCodecs","pc","RTCPeerConnection","addTransceiver","direction","streams","createOffer","offerToReceiveVideo","sdp","filter","x","includes","map","replace","v","i","a","indexOf","supportsSetSinkId","HTMLAudioElement","prototype","disableResolutionScaleDown","disable480pResolutionScaleDown","test","navigator","userAgent","startsWith","requiresDisablingH264Encoding","maxTouchPoints","RTCRtpTransceiver","hasOwnProperty","exports"],"sourceRoot":"","sources":["../../src/browserbehavior/DefaultBrowserBehavior.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}