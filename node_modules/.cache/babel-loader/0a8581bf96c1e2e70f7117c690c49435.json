{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst FullJitterBackoff_1 = require(\"./FullJitterBackoff\");\n\nclass FullJitterLimitedBackoff extends FullJitterBackoff_1.default {\n  constructor(fixedWaitMs, shortBackoffMs, longBackoffMs, limit) {\n    super(fixedWaitMs, shortBackoffMs, longBackoffMs);\n    this.limit = limit;\n    this.attempts = 0;\n  }\n\n  nextBackoffAmountMs() {\n    this.attempts++;\n\n    if (this.attempts > this.limit) {\n      throw new Error('retry limit exceeded');\n    }\n\n    return super.nextBackoffAmountMs();\n  }\n\n}\n\nexports.default = FullJitterLimitedBackoff;","map":{"version":3,"mappings":"cAAA;AACA;;;;;;AAEA;;AAEA,MAAqBA,wBAArB,SAAsDC,2BAAtD,CAAuE;EAGrEC,YACEC,WADF,EAEEC,cAFF,EAGEC,aAHF,EAIUC,KAJV,EAIuB;IAErB,MAAMH,WAAN,EAAmBC,cAAnB,EAAmCC,aAAnC;IAFQ;IANF,gBAAW,CAAX;EASP;;EAEDE,mBAAmB;IACjB,KAAKC,QAAL;;IACA,IAAI,KAAKA,QAAL,GAAgB,KAAKF,KAAzB,EAAgC;MAC9B,MAAM,IAAIG,KAAJ,CAAU,sBAAV,CAAN;IACD;;IACD,OAAO,MAAMF,mBAAN,EAAP;EACD;;AAlBoE;;AAAvEG","names":["FullJitterLimitedBackoff","FullJitterBackoff_1","constructor","fixedWaitMs","shortBackoffMs","longBackoffMs","limit","nextBackoffAmountMs","attempts","Error","exports"],"sourceRoot":"","sources":["../../src/backoff/FullJitterLimitedBackoff.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}