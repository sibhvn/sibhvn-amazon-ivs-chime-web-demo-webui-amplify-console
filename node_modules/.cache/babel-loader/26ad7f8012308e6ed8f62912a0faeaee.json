{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst DefaultTransceiverController_1 = require(\"./DefaultTransceiverController\");\n\nclass VideoOnlyTransceiverController extends DefaultTransceiverController_1.default {\n  constructor(logger, browserBehavior) {\n    super(logger, browserBehavior);\n  }\n\n  setupLocalTransceivers() {\n    if (!this.useTransceivers()) {\n      return;\n    }\n\n    if (!this.defaultMediaStream && typeof MediaStream !== 'undefined') {\n      this.defaultMediaStream = new MediaStream();\n    }\n\n    if (!this._localCameraTransceiver) {\n      this._localCameraTransceiver = this.peer.addTransceiver('video', {\n        direction: 'inactive',\n        streams: [this.defaultMediaStream]\n      });\n    }\n  }\n\n}\n\nexports.default = VideoOnlyTransceiverController;","map":{"version":3,"mappings":"cAAA;AACA;;;;;;AAIA;;AAEA,MAAqBA,8BAArB,SAA4DC,sCAA5D,CAAwF;EACtFC,YAAYC,MAAZ,EAA4BC,eAA5B,EAA4D;IAC1D,MAAMD,MAAN,EAAcC,eAAd;EACD;;EAEDC,sBAAsB;IACpB,IAAI,CAAC,KAAKC,eAAL,EAAL,EAA6B;MAC3B;IACD;;IAED,IAAI,CAAC,KAAKC,kBAAN,IAA4B,OAAOC,WAAP,KAAuB,WAAvD,EAAoE;MAClE,KAAKD,kBAAL,GAA0B,IAAIC,WAAJ,EAA1B;IACD;;IAED,IAAI,CAAC,KAAKC,uBAAV,EAAmC;MACjC,KAAKA,uBAAL,GAA+B,KAAKC,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkC;QAC/DC,SAAS,EAAE,UADoD;QAE/DC,OAAO,EAAE,CAAC,KAAKN,kBAAN;MAFsD,CAAlC,CAA/B;IAID;EACF;;AApBqF;;AAAxFO","names":["VideoOnlyTransceiverController","DefaultTransceiverController_1","constructor","logger","browserBehavior","setupLocalTransceivers","useTransceivers","defaultMediaStream","MediaStream","_localCameraTransceiver","peer","addTransceiver","direction","streams","exports"],"sourceRoot":"","sources":["../../src/transceivercontroller/VideoOnlyTransceiverController.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}