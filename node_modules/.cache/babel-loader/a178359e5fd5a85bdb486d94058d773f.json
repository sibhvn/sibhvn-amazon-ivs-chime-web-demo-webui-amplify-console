{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst DefaultBrowserBehavior_1 = require(\"../browserbehavior/DefaultBrowserBehavior\");\n\nconst version_1 = require(\"./version\");\n\nclass Versioning {\n  /**\n   * Return string representation of SDK name\n   */\n  static get sdkName() {\n    return 'amazon-chime-sdk-js';\n  }\n  /**\n   * Return string representation of SDK version\n   */\n\n\n  static get sdkVersion() {\n    return version_1.default.semverString;\n  }\n  /**\n   * Returns the parts of the semver, so major/minor/patch can be extracted individually.\n   */\n\n\n  static get sdkVersionSemVer() {\n    var _a, _b, _c;\n\n    const v = version_1.default.semverString.match(/^(?<major>[0-9]+)\\.(?<minor>[0-9]+)(?:\\.(?<patch>[0-9]+))?/);\n    return {\n      major: (_a = v === null || v === void 0 ? void 0 : v.groups) === null || _a === void 0 ? void 0 : _a.major,\n      minor: (_b = v === null || v === void 0 ? void 0 : v.groups) === null || _b === void 0 ? void 0 : _b.minor,\n      patch: (_c = v === null || v === void 0 ? void 0 : v.groups) === null || _c === void 0 ? void 0 : _c.patch\n    };\n  }\n  /**\n   * Return the SHA-1 of the Git commit from which this build was created.\n   */\n\n\n  static get buildSHA() {\n    // Skip the leading 'g'.\n    return version_1.default.hash.substr(1);\n  }\n  /**\n   * Return low-resolution string representation of SDK user agent (e.g. `chrome-78`)\n   */\n\n\n  static get sdkUserAgentLowResolution() {\n    const browserBehavior = new DefaultBrowserBehavior_1.default();\n    return `${browserBehavior.name()}-${browserBehavior.majorVersion()}`;\n  }\n  /**\n   * Return URL with versioning information appended\n   */\n\n\n  static urlWithVersion(url) {\n    const urlWithVersion = new URL(url);\n    urlWithVersion.searchParams.append(Versioning.X_AMZN_VERSION, Versioning.sdkVersion);\n    urlWithVersion.searchParams.append(Versioning.X_AMZN_USER_AGENT, Versioning.sdkUserAgentLowResolution);\n    return urlWithVersion.toString();\n  }\n\n}\n\nexports.default = Versioning;\nVersioning.X_AMZN_VERSION = 'X-Amzn-Version';\nVersioning.X_AMZN_USER_AGENT = 'X-Amzn-User-Agent';","map":{"version":3,"mappings":"cAAA;AACA;;;;;;AAEA;;AACA;;AAsBA,MAAqBA,UAArB,CAA+B;EAI7B;;;EAGkB,WAAPC,OAAO;IAChB,OAAO,qBAAP;EACD;EAED;;;;;EAGqB,WAAVC,UAAU;IACnB,OAAOC,kBAAQC,YAAf;EACD;EAED;;;;;EAG2B,WAAhBC,gBAAgB;;;IACzB,MAAMC,CAAC,GAAGH,kBAAQC,YAAR,CAAqBG,KAArB,CACR,4DADQ,CAAV;IAIA,OAAO;MACLC,KAAK,EAAE,OAAC,SAAD,KAAC,WAAD,GAAC,MAAD,IAAC,CAAEC,MAAH,MAAS,IAAT,IAASC,aAAT,GAAS,MAAT,GAASA,GAAEF,KADb;MAELG,KAAK,EAAE,OAAC,SAAD,KAAC,WAAD,GAAC,MAAD,IAAC,CAAEF,MAAH,MAAS,IAAT,IAASG,aAAT,GAAS,MAAT,GAASA,GAAED,KAFb;MAGLE,KAAK,EAAE,OAAC,SAAD,KAAC,WAAD,GAAC,MAAD,IAAC,CAAEJ,MAAH,MAAS,IAAT,IAASK,aAAT,GAAS,MAAT,GAASA,GAAED;IAHb,CAAP;EAKD;EACD;;;;;EAGmB,WAARE,QAAQ;IACjB;IACA,OAAOZ,kBAAQa,IAAR,CAAaC,MAAb,CAAoB,CAApB,CAAP;EACD;EAED;;;;;EAGoC,WAAzBC,yBAAyB;IAClC,MAAMC,eAAe,GAAG,IAAIC,gCAAJ,EAAxB;IACA,OAAO,GAAGD,eAAe,CAACE,IAAhB,EAAsB,IAAIF,eAAe,CAACG,YAAhB,EAA8B,EAAlE;EACD;EAED;;;;;EAGqB,OAAdC,cAAc,CAACC,GAAD,EAAY;IAC/B,MAAMD,cAAc,GAAG,IAAIE,GAAJ,CAAQD,GAAR,CAAvB;IACAD,cAAc,CAACG,YAAf,CAA4BC,MAA5B,CAAmC3B,UAAU,CAAC4B,cAA9C,EAA8D5B,UAAU,CAACE,UAAzE;IACAqB,cAAc,CAACG,YAAf,CAA4BC,MAA5B,CACE3B,UAAU,CAAC6B,iBADb,EAEE7B,UAAU,CAACkB,yBAFb;IAIA,OAAOK,cAAc,CAACO,QAAf,EAAP;EACD;;AA3D4B;;AAA/BC;AACS/B,4BAAiB,gBAAjB;AACAA,+BAAoB,mBAApB","names":["Versioning","sdkName","sdkVersion","version_1","semverString","sdkVersionSemVer","v","match","major","groups","_a","minor","_b","patch","_c","buildSHA","hash","substr","sdkUserAgentLowResolution","browserBehavior","DefaultBrowserBehavior_1","name","majorVersion","urlWithVersion","url","URL","searchParams","append","X_AMZN_VERSION","X_AMZN_USER_AGENT","toString","exports"],"sourceRoot":"","sources":["../../src/versioning/Versioning.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}