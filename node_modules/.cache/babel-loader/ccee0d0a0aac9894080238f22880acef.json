{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * [[DefaultVideoStreamIdSet]] implements [[VideoStreamIdSet]].\n */\n\nclass DefaultVideoStreamIdSet {\n  constructor(ids) {\n    this.ids = new Set(ids);\n  }\n\n  add(streamId) {\n    this.ids.add(streamId);\n  }\n\n  array() {\n    const values = Array.from(this.ids.values());\n    return values.sort((a, b) => a - b);\n  }\n\n  contain(streamId) {\n    return this.ids.has(streamId);\n  }\n\n  forEach(callbackFn) {\n    this.ids.forEach(callbackFn);\n  }\n\n  empty() {\n    return this.ids.size === 0;\n  }\n\n  size() {\n    return this.ids.size;\n  }\n\n  equal(other) {\n    if (!other) {\n      return this.ids.size === 0;\n    }\n\n    const x = this.array();\n    const y = other.array();\n\n    if (x.length !== y.length) {\n      return false;\n    }\n\n    for (let i = 0; i < x.length; i++) {\n      if (x[i] !== y[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  clone() {\n    return new DefaultVideoStreamIdSet(this.array());\n  }\n\n  remove(streamId) {\n    this.ids.delete(streamId);\n  }\n\n  toJSON() {\n    return this.array();\n  }\n\n  truncate(length) {\n    const x = this.array();\n    return new DefaultVideoStreamIdSet(x.splice(0, length));\n  }\n\n}\n\nexports.default = DefaultVideoStreamIdSet;","map":{"version":3,"mappings":"cAAA;AACA;;;;;AAIA;;;;AAGA,MAAqBA,uBAArB,CAA4C;EAG1CC,YAAYC,GAAZ,EAA0B;IACxB,KAAKA,GAAL,GAAW,IAAIC,GAAJ,CAAgBD,GAAhB,CAAX;EACD;;EAEDE,GAAG,CAACC,QAAD,EAAiB;IAClB,KAAKH,GAAL,CAASE,GAAT,CAAaC,QAAb;EACD;;EAEDC,KAAK;IACH,MAAMC,MAAM,GAAGC,KAAK,CAACC,IAAN,CAAW,KAAKP,GAAL,CAASK,MAAT,EAAX,CAAf;IACA,OAAOA,MAAM,CAACG,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAA1B,CAAP;EACD;;EAEDC,OAAO,CAACR,QAAD,EAAiB;IACtB,OAAO,KAAKH,GAAL,CAASY,GAAT,CAAaT,QAAb,CAAP;EACD;;EAEDU,OAAO,CAACC,UAAD,EAAuC;IAC5C,KAAKd,GAAL,CAASa,OAAT,CAAiBC,UAAjB;EACD;;EAEDC,KAAK;IACH,OAAO,KAAKf,GAAL,CAASgB,IAAT,KAAkB,CAAzB;EACD;;EAEDA,IAAI;IACF,OAAO,KAAKhB,GAAL,CAASgB,IAAhB;EACD;;EAEDC,KAAK,CAACC,KAAD,EAA+B;IAClC,IAAI,CAACA,KAAL,EAAY;MACV,OAAO,KAAKlB,GAAL,CAASgB,IAAT,KAAkB,CAAzB;IACD;;IACD,MAAMG,CAAC,GAAa,KAAKf,KAAL,EAApB;IACA,MAAMgB,CAAC,GAAaF,KAAK,CAACd,KAAN,EAApB;;IACA,IAAIe,CAAC,CAACE,MAAF,KAAaD,CAAC,CAACC,MAAnB,EAA2B;MACzB,OAAO,KAAP;IACD;;IACD,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAAC,CAACE,MAAtB,EAA8BC,CAAC,EAA/B,EAAmC;MACjC,IAAIH,CAAC,CAACG,CAAD,CAAD,KAASF,CAAC,CAACE,CAAD,CAAd,EAAmB;QACjB,OAAO,KAAP;MACD;IACF;;IACD,OAAO,IAAP;EACD;;EAEDC,KAAK;IACH,OAAO,IAAIzB,uBAAJ,CAA4B,KAAKM,KAAL,EAA5B,CAAP;EACD;;EAEDoB,MAAM,CAACrB,QAAD,EAAiB;IACrB,KAAKH,GAAL,CAASyB,MAAT,CAAgBtB,QAAhB;EACD;;EAEDuB,MAAM;IACJ,OAAO,KAAKtB,KAAL,EAAP;EACD;;EAEDuB,QAAQ,CAACN,MAAD,EAAe;IACrB,MAAMF,CAAC,GAAa,KAAKf,KAAL,EAApB;IACA,OAAO,IAAIN,uBAAJ,CAA4BqB,CAAC,CAACS,MAAF,CAAS,CAAT,EAAYP,MAAZ,CAA5B,CAAP;EACD;;AAhEyC;;AAA5CQ","names":["DefaultVideoStreamIdSet","constructor","ids","Set","add","streamId","array","values","Array","from","sort","a","b","contain","has","forEach","callbackFn","empty","size","equal","other","x","y","length","i","clone","remove","delete","toJSON","truncate","splice","exports"],"sourceRoot":"","sources":["../../src/videostreamidset/DefaultVideoStreamIdSet.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}